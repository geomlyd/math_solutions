\chapter{Open Sets and Closed Sets}

\begin{exercise}{1}
    Show that an ``open rectangle'' $(a, b) \times (c, d)$ is an open set in $\mathbb{R}^2$.
    More generally, if $A, B$ are open in $\mathbb{R}$, show that $A \times B$ is open in $\mathbb{R}^2$.
    If $A, B$ are closed in $\mathbb{R}$, show that $A \times B$ is closed in $\mathbb{R}^2$.
\end{exercise}

\begin{solution}
    
    Call the open rectangle $S$, in which case its defining property is $S = \{(x, y) \in \mathbb{R}^2 : a < x < b, c < y < d\}$.
    Let $p = (x, y) \in S$, and set $r = \min\{x - a, b - x, c - y, d - y\}$.
    Now let $p' = (x', y')$ be any point in $B_r(p)$.
    This means that $\lvert \lvert p' - p \rvert \rvert_2 < r$.
    More specifically, this translates to the following inequalities:

    $$\lvert x' - x \rvert < x - a \implies x' - x > a - x \implies a < x'$$
    $$\lvert x' - x \rvert < b - x \implies x' - x < b - x \implies x' < b$$    
    $$\lvert y' - y \rvert < y - c \implies y' - y > c - y \implies y' > c$$
    $$\lvert y' - y \rvert < d - y \implies y' - y > d - y \implies y' < d$$

    These four properties mean that $p' \in S$, and thus we have proved that $S$ is indeed open.

    For the sake of generality, for the remaining exercise we will work with $A, B$ being subsets of two general metric spaces $(M, d), (N, \rho)$, respectively, and then the general result will imply what is asked for here.
    First of all, we select $d_{\infty}$ as the metric of $M \times N$, with the definition given in exercise 46 of Chapter 3.
    Suppose first that $A, B$ are open, and pick $(a, b) \in A \times B$.
    There exist then open balls $B_{\epsilon_1}^{d}(a) \subset A, B_{\epsilon_2}^{\rho}(b) \subset B$.
    Pick $\epsilon = \min\{\epsilon_1, \epsilon_2\}$, and consider any $(x, y) \in B_{\epsilon}^{d_{\infty}}((a, b))$.
    We have that:
    
    $$d_{\infty}((x, y), (a, b)) < \epsilon \implies \max\{d(x, a), \rho(y, b)\} < \min\{\epsilon_1, \epsilon_2\}$$

    Notice that this implies that, more specifically, $d(x, a) < \epsilon_1, \rho(y, b) < \epsilon_2$, which means $x \in B_{\epsilon_1}^{d}(a) \subset A, y \in B_{\epsilon_2}^{\rho}(b) \subset B$.
    In other words, $x \in A, b \in B$, and so $(x, y) \in A \times B$, which shows that $B_{\epsilon}^{d_{\infty}}(a, b) \subset A \times B$, and thus the Cartesian product is also open.

    Now suppose that $A, B$ are closed, which implies $M \setminus A, N \setminus B$ are open.
    Consider rewriting $A \times B$ as follows:

    $$A \times B = \{(x, y) \in M \times N \lvert x \in A, y \in B\} = (M \times N) \setminus \{(x, y) \in M \times N \lvert x \notin A \text{ or } y \notin B\}$$
    $$ = (M \times N) \setminus ((A^{c} \times N) \cup (M \times B^{c}))$$

    Now, from the immediately preceding proof, $A^{c} \times N, M \times B^{c}$ are open as Cartesian products of open sets (a metric space is always open).
    Their union is thus also open, and then the complement of this union, which we showed equals $A \times B$, is thus closed.
\end{solution}

\newpage

\begin{exercise}{3}
    Some authors say that two metrics $d, \rho$ on a set $M$ are equivalent if they generate the same open sets.
    Prove this.
    (Recall that we defined equivalence to mean that $d, \rho$ generate the same convergent sequences.)
\end{exercise}

\begin{solution}
    
    First suppose that two metrics $d, \rho$ generate the same open sets.
    Pick any sequence $(x_n) \in M$ such that $d(x_n, x) \rightarrow 0$, and pick $\epsilon > 0$.
    The ball $B_{\epsilon}^{\rho}(x)$ is open under $\rho$, and must thus also be open (although not necessarily a ball) under $d$.
    By convergence of $x_n \rightarrow x$ under $d$, we have that $(x_n)$ is eventually in $B_{\epsilon}^{\rho}(x)$, which of course means that we have showed that $\rho(x_n, x) \rightarrow 0$ as well.
    Exchanging the roles of $d, \rho$ completes the proof that they are equivalent under the sequence-based definition.

    Conversely, assume that $d, \rho$ generate the same convergent sequences.
    Suppose $S$ is an open set under $d$.
    If $S$ is the empty set, it is also clearly open under $\rho$.
    Otherwise, suppose for the sake of contradiction that $S$ is not open under $\rho$, which means that there exists $x \in S$ such that for every $\epsilon > 0$, $B_{\epsilon}^{\rho}(x) \not\subset S$.
    More specifically, this means that for a sequence of $\epsilon_n = \frac{1}{n}$, we can always find $x_n \notin S$ such that $x_n \in B_{\epsilon_n}^{\rho}(x)$.
    But then it becomes clear that $\rho(x_n, x) \rightarrow 0$, which means that $d(x_n, x) \rightarrow 0$ as well.
    Therefore we have constructed a sequence that has an infinite number of terms that do not belong in $S$, and at the same time converges to $x \in S$ under $d$.
    Because $S$ is open under $d$, this is a contradiction, and we therefore conclude that $S$ must also be open under $\rho$.
    Exchanging the roles of the two metrics completes the proof in this direction, thus showing that the two definitions are equivalent.
\end{solution}

\begin{exercise}{5}
    Let $f: \mathbb{R} \rightarrow \mathbb{R}$ be continuous.
    Show that $\{x: f(x) > 0\}$ is an open subset of $\mathbb{R}$, and that $\{x: f(x) = 0\}$ is a closed subset of $\mathbb{R}$.
\end{exercise}

\begin{solution}
    
    Let $S = \{x: f(x) > 0\}$.
    Pick any $x \in S$, in which case $f(x) > 0$.
    Let $\epsilon = f(x)$, and then because $f$ is continous, there must exist $\delta > 0$ such that:

    $$\lvert y - x \rvert < \delta \implies \lvert f(y) - f(x) \rvert < \epsilon$$

    The second inequality implies $-\epsilon < f(y) - f(x) \implies f(y) > f(x) - f(x) = 0$.
    Notice then that for every $y \in B_{\delta}(x)$ we have $f(y) > 0$, and thus that $y \in S$, which shows that $S$ is open.

    Now let $T = \{x: f(x) = 0\}$.
    Notice that $T = \mathbb{R} \setminus (\{x: f(x) > 0\} \cup \{x: f(x) < 0\})$.
    It is very easy to show that the above also holds for ``less than zero'', thus rendering the union here a union of open sets, and then $T$ a closed set as a complement of an open set.

\end{solution}

\begin{exercise}{7}
    Show that every open set in $\mathbb{R}$ is the union of countably many open intervals with $\textit{rational}$ endpoints.
    Use this to show that the collection $\mathcal{U}$ of all open subsets of $\mathbb{R}$ has the same cardinality as $\mathbb{R}$ itself.
\end{exercise}

\begin{solution}
    
    We know already that an open set $S \subset \mathbb{R}$ can be written as $S = \cup_{n=1}^{\infty}(a_n, b_n)$, where the intervals are all disjoint, and perhaps unbounded.
    Consider the following procedure.
    We take the interval $(a_n, b_n)$, where in general the endpoints are real numbers.
    We know that between them there will always be a rational number $q_n$.
    In fact, $b_n$ can be approached by a (increasing) sequence of rational numbers starting at $q_n$ and getting infinitely close to it, and the same holds for $a_n$ (only difference being the fact that this will be a decreasing sequence).
    These are \textit{countably infinite} in number: indeed, each sequence is equivalent to the natural numbers, since these directly form its indices, and of course $\mathbb{N} \cup \mathbb{N} \sim \mathbb{N}$ (``two sequences are equivalent to one sequence'').

    We can thus replace $(a_n, b_n)$ with a union of the form $\cup_{k=1}^{\infty} (q_k, r_k)$ where the endpoints are rationals.
    But then we have that $S$ is a countable union of countable sets, which we know (Theorem 2.6)  is also countable, and thus $S$ is indeed a countable union of intervals with rational endpoints.

    Now let $f: \mathbb{R} \setminus \{0\} \rightarrow \mathcal{U}, f(x) = (0, x)$ if $x > 0$, and $f(x) = (x, 0)$ otherwise. 
    This function is clearly an injection from the reals except zero to the set of open sets.
    Recall also (exercise 17, ch. 2) that $\mathbb{R} \sim \mathbb{R} \setminus \{0\}$, and thus we can easily see that there exists an injection $h_1$ from $\mathbb{R}$ to $\mathcal{U}$.
    Additionally, let $g((q_n)) = \cup_{n=1}^{\infty} (q_n, q_{n+1})$ be a function mapping sequences of rationals to open sets.
    We've shown that \textit{every} open set can be written in this form, meaning that $g$ is a surjection.
    But then for every open interval we can find at least one sequence of rationals that via $g$ (since it's a function) corresponds to it and to no other open interval.
    This shows the existence of an injection $h_2: \mathcal{U} \rightarrow \mathbb{Q}^{\mathbb{N}}$.
    Putting together the existence of $h_1, h_2$ and the fact that $\mathbb{Q}^{\mathbb{N}} \sim \mathbb{R}$, we apply the Cantor-Schr√∂der-Bernstein theorem to see that $\mathcal{U}$ and $\mathbb{R}$ are in fact equivalent.
\end{solution}

\begin{exercise}{8}
    Show that every open interval (and hence every open set) in $\mathbb{R}$ is a countable union of closed intervals and that every closed interval in $\mathbb{R}$ is a countable intersection of open intervals.
\end{exercise}

\begin{solution}
    
    Consider any interval of the form $(a, b)$, first where $a, b \in \mathbb{R}$, and consider the union:

    $$U = \bigcup_{n=1}^{\infty} \Biggl[\frac{a+b}{2} - \sum_{i=2}^{n}(b-a)\frac{1}{2^i}, \frac{a+b}{2} + \sum_{i=2}^{n}(b-a)\frac{1}{2^i} \Biggr]$$

    For the sake of brevity, we will omit some details, but one can see that as $n \rightarrow \infty$, the terms inside the sums converge to $(b-a)/2$.
    But this means that for any given $x \in (a, b)$, it suffices to check whether $x < (a+b)/2$ or $x > (a+b)/2$, and then pick $n$ accordingly to make the left or right endpoint of the $n$-th term of the union become smaller or greater than $x$ respectively.
    This is always possible due to the sums converging to $(b-a)/2$, which in turn makes the endpoints converge to $a, b$.
    The union thus includes all points in $(a, b)$, and furthermore it is clearly countable.

    If it is the case that $a = -\infty$ and $b = \infty$, we propose the union $U = \cup_{n=1}^{\infty} [-2^n, 2^n]$, and we can thus clearly always find $n$ big enough such that any $x \in \mathbb{R}$ belongs in one such interval.
    The ``intermediate'' case of one of $a, b$ being infinity and the other a real number would be handled as a mixture of the above.

    Now consider instead an interval of the form $[a, b], a, b \in \mathbb{R}$.
    Consider the intersection:

    $$I = \bigcap_{n=1}^{\infty} \Biggl[ a - \frac{1}{2^n}, b + \frac{1}{2^n}\Biggr]$$

    We claim that this (countable) intersection equals $[a, b]$.
    First, it is easy to see that any $x \in [a,b]$ is contained in every interval, since $b + \frac{1}{2^n} > b, a - \frac{1}{2^n} < a$ for all $n$.
    Second, we claim that no $y \notin [a, b]$ can be contained in $I$.
    Indeed, if $y < a$, because $a - \frac{1}{2^n}$ gets arbitrarily close to $a$ from the left, we can always find $n$ sufficiently large such that $y < a - \frac{1}{2^n}$, and a similar argument works for $ y > b$, showing that $y$ will not be contained in the intervals corresponding to $k \geq n$, and thus neither will it be contained in $I$.
    This concludes the proof.
\end{solution}

\begin{exercise}{10}
    Given $y = (y_n) \in H^{\infty}, N \in \mathbb{N}, \epsilon > 0$, show that $\{x = (x_n) \in H^{\infty}: \lvert x_k - y_k \rvert < \epsilon, k =1, \ldots, N\}$ is open in $H^{\infty}$ (see Exercise 3.10).
\end{exercise}

\begin{solution}
    
    Let $S = \{x = (x_n) \in H^{\infty}: \lvert x_k - y_k \rvert < \epsilon, k =1, \ldots, N\}$, and suppose $x \in S$.
    Suppose also, by way of contradiction, that there exists a sequence $z^{(k)} \rightarrow x$ with an infinite number of its elements not in $S$.
    This means that there must exist infinite $k$ such that $\lvert z^{(k)}_n - y_n \rvert \geq \epsilon$ for at least one $n = 1, 2, \ldots, N$.
    We first make the observation that $z^{(k)} \rightarrow x$ implies coordinate-wise convergence for each $n$, in other words that $z^{(k)} \rightarrow x_n$ for all n.
    Indeed, given a particular $n$, pick any $\epsilon > 0$ and set $\epsilon' = 2^{-n} \epsilon$.
    Then there must exist $K > 0$ such that for $k \geq K$ (recall the metric for $H^{\infty}$ from exercise 3.10):

    $$d(z^{(k)}, x) < \epsilon' \implies \sum_{m=1}^{\infty} 2^{-m} \lvert z^{(k)}_m - x_m \rvert < \epsilon'$$

    But then it is the case that $2^{-n} \lvert z^{(k)}_n - x_n \rvert < 2^{-n}\epsilon \implies \lvert z^{(k)}_n - x_n \rvert < \epsilon$ for all $k \geq K$, which is the definition of convergence for the $n$-th coordinate.
    Now pick an arbitrary $n$, and consider the following:

    $$\lvert z_n^{(k)} - y_n \rvert \leq \lvert z_n^{(k)} - x_n \rvert + \lvert x_n - y_n \rvert $$

    The second term here is independent of $z$, so let it equal $c_n < \epsilon$ (by the definition of $S$).
    Set $\epsilon_n = \epsilon - c_n > 0$, and notice that there must exist $K > 0$ such that for $k \geq K, \lvert z_n^{k} - x_n \rvert < \epsilon_n$.
    Then:

    $$\lvert z_n^{(k)} - y_n \rvert < \epsilon_n + c_n = \epsilon - c_n + c_n = \epsilon$$

    The implication here is that after some $K$, this $n$ can no longer ``play the part'' of keeping $z^{(k)} \notin S$ by satisfying $\lvert z_n^{(k)} - y_n \rvert \geq \epsilon$.
    This is true for any $n = 1, 2, \ldots, N$, so we can find a maximum such $K$ such that for $k \geq K$ the above holds for \textit{all} $n$.
    However, the existence of infinite $k$ such that $z^{(k)} \notin S$ directly contradicts this, and thus $S$ must indeed be open.

\end{solution}

\begin{exercise}{11}
    Let $e^{(k)} = (0, \ldots, 0, 1, 0, \ldots)$, where the $k$-th entry is 1 and the rest are 0s.
    Show that $\{e^{(k)}: k \geq 1\}$ is closed as a subset of $l_1$.
\end{exercise}

\begin{solution}
    
    Let $x = (x_1, x_2, \ldots)$ be any element of $S = \{e^{(k)}: k \geq 1\}$.
    We will show that if, for every $\epsilon > 0$, it is the case that $B_{\epsilon}(x) \cap S \neq \emptyset$ (under $l_1$), then $x \in S$, which we know is one of the three equivalent ways of defining closed sets.
    What this statement means is that for every $\epsilon > 0$, there must exist a sequence $y = (0, 0, \ldots, 1, 0, \ldots)$ with precisely one (say, the $i$-th) element equal to 1 and the rest equal to 0, and at the same time $\lvert \lvert (x_1, x_2, \ldots, x_i, \ldots) - (0, 0, \ldots, 1, 0, \ldots) \rvert \rvert_1 < \epsilon \implies \lvert \lvert (x_1, x_2, \ldots 1 - x_i, x_{i+1}, \ldots) \rvert \rvert_1 < \epsilon$.
    Suppose then that $x \notin S$.
    One possibility is that $x$ has at least two non-zero elements, $x_j, x_k$.
    Notice then that no matter the position of $i$, it holds that $\lvert \lvert (x_1, x_2, \ldots 1 - x_i, x_{i+1}, \ldots) \rvert \rvert_1 \geq \min\{\lvert x_j \rvert, \lvert x_k \rvert\}$: indeed, $y$ can at most zero out one of the two non-zero elements of $x$. 
    But this means that for sufficiently small $\epsilon$ the statement above will not hold, a contradiction.
    Therefore $x$ has at most one non-zero element.
    If $x$ is the zero sequence, it is clear that the LHS above will always have a norm of 1, and thus we again arrive at a contradiction.
    The only possibility is thus that $x = (0, \ldots, a, 0, \ldots), a \neq 0$.
    Suppose that $a \neq 1$, and observe that for $\epsilon < 1$ it must be the case that the $y$ we seek has $y_i = 1$, otherwise $\lvert \lvert (0, \ldots, 1, \ldots, a, \ldots) \rvert \rvert_1 \geq 1$.
    Therefore, it must be the case that $\lvert \lvert (0, \ldots 1 - a, 0, \ldots) \rvert \rvert_1 < \epsilon$ for all $\epsilon < 1$, which enforces $\lvert 1 -a \rvert < \epsilon$, and of course this can only be true for $a = 1$, thus showing that $x \in S$.
\end{solution}

\begin{exercise}{13}
    Show that $c_0$ is a closed subset of $l_{\infty}$.
    [Hint: If $(x^{(n)})$ is a sequence of sequences in $c_0$ converging to $x \in l_{\infty}$, note that $\lvert x_k \rvert \leq \lvert x_k - x_k^{(n)} \rvert + \lvert x_k^{(n)} \rvert$ and now choose $n$ so that $\lvert x_k - x_k^{(n)} \rvert$ is small \textit{independent} of $k$.]
\end{exercise}

\begin{solution}
    
    Suppose that $(x^{(n)}) \in c_0$ is a sequence of sequences converging to $x$.
    We need to show that $x \in c_0$, in other words that $x_k \rightarrow 0$.
    We follow the hint by observing that, for any given term $x^{(n)}$ of the sequence of sequences, via the triangle inequality we have that:

    $$\lvert x_k \rvert = \lvert x_k - x_{k}^{(n)} + x_{k}^{(n)} \rvert \leq \lvert x_k - x_k^{(n)} \rvert + \lvert x_k^{(n)} \rvert$$

    Pick any $\epsilon > 0$.
    Because $x^{(n)} \rightarrow x$, there exists $N > 0$ such that for $n \geq N$ we have that $d_{\infty}(x^{(n)}, x) < \epsilon \implies \sup_{k} \lvert x_k^{(n)} - x_k \rvert < \epsilon/2$.
    This guarantees that $\lvert x_k^{(n)} - x_k \rvert < \epsilon/2$ for \textit{any} $k$.
    In addition, we know that for any $n, x^{(n)} \in c_0 \implies x_k^{n} \rightarrow 0$, and so there must exist $K \geq 0$ such that $\lvert x_k^{n} \rvert < \epsilon/2$ for $k \geq K$.
    By using any $n \geq N$ in the inequality stated above, we see that for $k \geq K$ we have that $\lvert x_k \rvert < \epsilon$, which means that $x \rightarrow 0$, and thus that $x \in c_0$.
\end{solution}

\begin{exercise}{15}
    The set $A = \{y \in M : d(x, y) \leq r \}$ is sometimes called the \textit{closed ball} about $x$ of radius $r$.
    Show that $A$ is a closed set, but give an example showing that $A$ need not equal the closure of the open ball $B_r(x)$.
\end{exercise}

\begin{solution}
    
    To show that $A$ is closed, pick any point $y$ and suppose that the ball $B_{\epsilon}(y)$ intersects $A$ for any $\epsilon > 0$.
    We need to show that $y \in A$.
    Indeed, if we assume $y \notin A$, then $d(x, y) > r$.
    If we pick $\epsilon = d(x, y) - r > 0$, then there must exist $z \in B_{\epsilon}(y) \cap A$.
    This means that $d(z, x) \leq r$.
    Then:
    
    $$d(y, x) \leq d(y, z) + d(z, x) < \epsilon + d(x, z) = d(x, y) - r + d(x, z) \leq d(x, y) - r + r = d(x, y)$$

    We have arrived at the contradiction $d(y, x) < d(x, y)$, and so $y \in A$, which means that $A$ is closed.

    For the second part of the exercise, consider the discrete metric $d$.
    Then for some $x \in M, B_1^d(x) = \{x\}$, and the closure of this open ball is also the set $\{x\}$: this contains precisely all the limit points of $\{x\}$.
    However, the corresponding closed ball would be the set $\{y \in M : d(x, y) \leq 1 \} = M$, by definition of the discrete metric.
    Clearly, the closure of the open ball around $x$ does not equal the closed ball around $x$.
\end{solution}

\begin{exercise}{17}
    Show that $A$ is open if and only if $A^{\circ} = A$ and that $A$ is closed if and only if $\overline{A} = A$.
\end{exercise}

\begin{solution}
    
    We begin with the first statement.
    Note that it always holds that $A^{\circ} \subset A$, so in both directions of the equivalence we'll only need to show or assume that $A \subset A^{\circ}$.
    
    $\implies$: Suppose $A$ is open and pick any $x \in A$.
    We need to show that $x \in A^{\circ} = \cup \{B_{\epsilon}(y) \subset A, \text{ for some } y \in A, \epsilon > 0\}$.
    Because $A$ is open, there exists some $\epsilon > 0$ such that $B_{\epsilon}(x) \subset A$.
    This clearly implies that $B_{\epsilon}(x)$ is included in the union that forms $A^{\circ}$, and so $x \in A^{\circ}$, which means $A \subset A^{\circ}$.

    $\impliedby$: Suppose now that $A \subset A^{\circ}$, and pick any $x \in A$.
    To show that $A$ is open, we need to find $\epsilon > 0$ such that $B_{\epsilon}(x) \subset A$.
    By our assumption, it must be the case that there exist $y \in A, \rho > 0$ such that $x \in B_{\rho}(y) \subset A$.
    In other words, it is the case that $d(x, y) < \rho$.
    Set $\epsilon = \rho - d(x, y)$, and consider the ball $B_{\epsilon}(x)$.
    For any $z$ in this ball, we have that:

    $$d(z, x) < \epsilon \implies d(z, x) < \rho - d(x, y) \implies d(x, y) + (z, x) < \rho \implies d(y, z) < \rho,$$

    where we used the triangle inequality in the last step.
    Thus $z \in B_{\rho}(y) \subset A$, which means $B_{\epsilon}(x) \subset A$, and so we've shown that $A$ is indeed open.
    Now, for the second statement we have that $A \subset \overline{A}$, so we'll only need to show or assume that $\overline{A} \subset A$:

    $\implies$: Suppose $A$ is closed, and pick any $x \in \overline{A}$.
    Then, for every $\epsilon > 0$ we have that $B_{\epsilon}(x) \cap A \neq \emptyset$.
    Because $A$ is closed, recall that this must imply that $x \in A$.

    $\impliedby$: Conversely, assume $\overline{A} \subset A$, and pick any $x$ such that for every $\epsilon > 0, B_{\epsilon}(x) \cap A \neq \emptyset$.
    If we can show that this implies $x \in A$, we will have shown that $A$ is closed.
    By the definition of the closure, we have that it implies that $x \in \overline{A}$, and by our assumption also that $x \in A$, thus completing the proof that $A$ is closed.

\end{solution}

\begin{exercise}{18}
    Given a nonempty bounded subset $E$ of $\mathbb{R}$, show that $\sup E, \inf E$ are elements of $\overline{E}$.
    Thus $\sup E, \inf E$ are elements of $E$ whenever $E$ is closed.
\end{exercise}

\begin{solution}
    
    Recall from exercise 3 of Chapter 1 that for every $\epsilon > 0$, there exists $a \in E$ such that $a > \sup E - \epsilon$ and $b \in E$ such that $b < \inf E + \epsilon$.
    But then observe that in $\mathbb{R}$, $B_{\epsilon}(\sup E) = \{x \in \mathbb{R}: \lvert x - \sup E \rvert < \epsilon\}$, and the same holds for the infimum, which by the above means that $B_{\epsilon}(\sup E) \cap E \neq \emptyset, B_{\epsilon}(\inf E) \cap E \neq \emptyset$ since these intersections include $a, b$ respectively.
    Since this holds for any $\epsilon > 0$, it must be the case that $\sup E, \inf E \in \overline{E}$.
    By exercise 17, we have that $\overline{E} = E$ whenever $E$ is closed, and thus in this case it also holds that $\sup E, \inf E$ are elements of $E$.
\end{solution}

\begin{exercise}{19}
    Show that $\text{diam}(A) = \text{diam}(\overline{A})$.
\end{exercise}

\begin{solution}
    
    By definition, we have that $\text{diam}(A) = \sup \{d(a, b), a, b \in A\}, \text{diam}(\overline{A}) = \sup \{d(a, b), a, b \in \overline{A} \}$.
    Notice that because $A \subset \overline{A}$, it must be the case that $\text{diam}(A) \leq \text{diam}(\overline{A})$.
    Suppose then that the inequality is strict, in which case it must hold that for at least two $a, b \in \overline{A}, d(a, b) > \text{diam}(A)$.
    By the definition of the closure, there must exist sequences $(x_n), (y_n) \subset A$ such that $x_n \rightarrow a, y_n \rightarrow b$.
    Then, by exercise 34 of 3.4 we know that $d(x_, y_n) \rightarrow d(a, b)$.
    Thus, for any given $\epsilon > 0$, there exists $N > 0$ such that for $n \geq N, \lvert d(x_n, y_n) - d(a, b) \rvert < \epsilon \implies d(x_n, y_n) > d(a, b) - \epsilon$.
    But, because $d(a, b)$ is an upper bound for $\{d(x, y), x, y \in \} (A \subset \overline{A})$ again by exercise 3, Chapter 1), this means precisely that $\sup \{d(x_n, y_n), n = 1, 2, \ldots\} = d(a, b)$ and thus $\text{diam}(A) \geq d(a, b) = \text{diam}(\overline{A})$, which is a contradiction.
    
\end{solution}

\begin{exercise}{20}
    If $A \subset B$, show that $\overline{A} \subset \overline{B}$.
    Does $\overline{A} \subset \overline{B}$ imply $A \subset B$?
    Explain.
\end{exercise}

\begin{solution}
    
    Suppose $x \in \overline{A}$.
    Then there exists a sequence $(x_n) \subset A$ such that $x_n \rightarrow x$.
    Because $A \subset B$, it must also be the case that $(x_n) \subset B$.
    Then, by the definition of the closure of a set, we have that the limit of $(x_n)$, i.e., $x$, must also belong in $\overline{B}$, thus showing that $\overline{A} \subset \overline{B}$.

    The statement posed as a question is false.
    We consider the following counterexample: $B = B_{1}(0) = (-1, 1), A = \{1\}$ in $\mathbb{R}$.
    Here we easily obtain that $\overline{B} = [-1, 1]$ and $\overline{A} = \{1\}$, and so we have that $\overline{A} \subset \overline{B}$.
    However, it clearly does not hold that $A \subset B$.
\end{solution}

\begin{exercise}{22}
    True or false? $(A \cup B)^{\circ} = A^\circ \cup B^\circ$.
\end{exercise}

\begin{solution}

    This is not, in general, true.
    Set $A = (-1, 1], B = [1, 2)$, in which case $A \cup B = (-1, 2)$, and so $(A \cup B)^\circ = (-1, 2)$.
    Additionally, $A^\circ = (-1, 1), B^\circ = (1, 2) \implies A^\circ \cup B^\circ = (-1, 1) \cup (1, 2)$.
    Notice then that $1 \in (A \cup B)^\circ$ but $1 \notin A^\circ \cup B^\circ$, so the two sets cannot be equal.
\end{solution}

\begin{exercise}{27}
    Show that $\lvert d(x, A) - d(y, A) \rvert \leq d(x, y)$ and conclude that the map $x \rightarrow d(x, A)$ is continuous.
    In the context of this problem, ``continuity'' refers to $x_n \rightarrow x \implies d(x_n, A) \rightarrow d(x, A)$.
\end{exercise}

\begin{solution}
    
    From exercise 26, we recall that $d(x, A) = \inf \{d(x, a), a \in A \}$.
    We begin by observing that for any given $a \in A$, it holds that:

    $$d(x, A) \leq d(x, a) \leq d(x, y) + d(y, a) \implies d(x, A) - d(x, y) \leq d(y, a)$$

    Since this holds for any $a \in A$, the quantity on the LHS constitutes a lower bound for $\{d(y, a), a \in A\}$.
    By the definition of the infimum, it must then hold that $d(x, A) - d(x, y) \leq d(y, A) \implies d(x, A) - d(y, A) \leq d(x, y)$.
    By exchanging the roles of $x, y$ above, we can arrive also at the inequality $d(y, A) - d(x, y) \leq d(x, a)$ for any $a \in A$, which leads to $d(y, A) - d(x, y) \leq d(x, A) \implies d(y, A) - d(x, A) \leq d(x, y)$.
    Putting these two together we obtain that $\lvert d(x, A) - d(y, A) \rvert \leq d(x, y)$.
    For the second part of the exercise, suppose that $x_n \rightarrow x$ under $d$, that is, that for any $\epsilon > 0$ there exists $N > 0$ such that $d(x_n, x) < \epsilon, n \geq N$.
    By using the inequality we just proved, we have that:

    $$\lvert d(x_n, A) - d(x, A) \rvert \leq d(x_n, x) < \epsilon,$$

    and so we can indeed safely conclude that $d(x_n, A) \rightarrow d(x, A)$, which is the definition of continuity we use here.
\end{solution}

\begin{exercise}{29}
    Show that every closed set in $M$ is the intersection of countably many open sets and that every open set in $M$ is the union of countably many closed sets.
    [Hint: What is $\cap_{n=1}^{\infty} \{x \in M : d(x, A) < 1/n\}$?]
\end{exercise}

\begin{solution}
    
    We begin by following the hint and setting $S = \cap_{n=1}^{\infty} \{x \in M : d(x, A) < 1/n\}$, where $A$ is a closed set.
    By exercise 28, we know that each of the sets comprising the infinite intersection is open.
    It suffices therefore to show that $A = S$.
    First, let $y \in A$.
    Then, it of course holds that $d(y, A) < 1/n$ for every $n > 0$, and so $y \in S$.
    Therefore, $A \subset S$.
    In the other direction, suppose $y \in S$.
    It must then be the case that $d(y, A) < 1/n$ for every $n > 0$.
    The only way this can hold is if $d(y, A) = 0$, which by exercise 26 we know is equivalent to $y \in \overline{A}$.
    Here $A$ is closed, so $A = \overline{A}$, which means $y \in A$, and so $S \subset A$.
    We've therefore shown that $A = S$, with $S$ being a countable intersection of open sets.

\end{solution}

\begin{exercise}{33}
    Let $A$ be a subset of $M$.
    A point $x \in M$ is called a \textbf{limit point} of $A$ if every neighborhood of $x$ contains a point of $A$ that is different from $x$ itself, that is, if $(B_{\epsilon}(x) \setminus \{x\}) \cap A \neq \emptyset$ for every $\epsilon > 0$.
    If $x$ is a limit point of $A$, show that every neighborhood of $x$ contains infinitely many points of $A$.
\end{exercise}

\begin{solution}
    
    Suppose that this is not true, i.e. that $x$ is a limit point of $A$ and a neighborhood $S$ of $x$ contains only finitely many points of $A$.
    Call these $x_1, x_2, \ldots x_n$ and define $\epsilon = \min\{d(x_1, x), d(x_2, x), \ldots, d(x_n, x)\}$.
    Then consider the ball $B_{\epsilon}(x) \subset S$: it becomes clear that no point of $A$ in $S$, except for $x$, is inside this ball.
    But this contradicts the definition of limit point as given in the exercise, and thus every neighborhood of $x$ must contain infinitely many points of $A$.
\end{solution}

\begin{exercise}{34}
    Show that $x$ is a limit point of $A$ if and only if there is a sequence $x(x_n)$ in $A$ such that $x_n \rightarrow x$ and $x_n \neq x$ for all $n$.
\end{exercise}

\begin{solution}
    
    $\implies$: If $x$ is a limit point of $A$, for any given $\epsilon > 0$, find $x_n \in A, x_n \neq x$ such that $x_n \in B_{\epsilon}(x)$.
    Constructing a sequence of such $x_n$ by taking successive $\epsilon_n = 1/n, n = 1, 2, \ldots$ yields the desired result: $x_n \rightarrow x, x_n \neq x$ for all $n$.

    $\impliedby$: Now suppose that there exists a sequence $(x_n)$ in $A$ with $x_n \rightarrow x, x_n \neq x$. 
    Then for any given $\epsilon > 0$, we can find $N > 0$ such that for $n \geq N, d(x_n, x) < \epsilon$, which means that the ball $B_{\epsilon}(x)$ contains a point (in fact, infinitely many) of $A$ that does not equal $x$ (since $x_n \neq x$ for all $n$).
\end{solution}

\begin{exercise}{36}
    Suppose that $x_n \rightarrow x \in M$ under $d$, and let $A = \{x\} \cup \{x_n : n \geq 1\}$.
    Prove that $A$ is closed.
\end{exercise}

\begin{solution}
    
    If we can show that for any given $y \in M$ for which $B_{\epsilon}(y) \cap A \neq \emptyset$ holds for all $\epsilon > 0$, it is the case that $y \in A$, we will have shown that $A$ is closed.
    Pick a $y \in M$ that fulfills the stated condition.
    If $y = x$ or $y = x_n$ for some $x_n$, it is of course true that $y \in A$.
    If $y \neq x, y \neq x_n$ for all $n$, then for any given $\epsilon > 0$, we can find an element $z \in A$ such that $d(z, y) < \epsilon$.
    It is easily seen that by choosing $\epsilon_n = 1/n$, eventually these $z$ must no longer equal $x$: the distance $d(x, y)$ is of course constant and cannot be smaller than all $\epsilon > 0$ if $y \neq x$.
    Therefore, after some $N$, the $z$ corresponding to $\epsilon_n$ must be elements of the sequence $(x_n)$, and furthermore these elements cannot all originate from the first $K$ terms of $(x_n)$ for any $K$, since then we would be able to find a minimum distance $d(z_n, y)$.
    We conclude that, by picking $z_n$ with appropriate increasing indices, we can then form a subsequence of $(x_n)$ that converges to $y \neq x$, which by the uniqueness of the limit is a contradiction.
    Therefore $y$ is either equal to $x$ or some $x_n$ and $A$ is closed.
    

\end{solution}

\begin{exercise}{40}
    If $x \in A$ and $x$ is \textit{not} a limit point of $A$, then $x$ is called an \textbf{isolated point} of $A$.
    Show that a point $x \in A$ is an isolated point of $A$ if and only if $(B_{\epsilon}(x) \setminus \{x\}) \cap A = \emptyset$ for some $\epsilon > 0$.
    Prove that a subset of $\mathbb{R}$ can have at most countably many isolated points, thus showing that every uncountable subset of $\mathbb{R}$ has a limit point.
\end{exercise}

\begin{solution}

    The first part of the exercise arises simply by negating the definition of limit point in exercise 33.
    For the second part, we note that if we can find a one-to-one mapping of isolated points of a subset $A \subset \mathbb{R}$ to the rational numbers, we will have shown that these are at most countable.
    We describe a process by which such a mapping can be created.

    Let $p_1$ be any isolated point of $A$, which means that there exists $\epsilon_1$ such that $(p_1 - \epsilon_1, p_1 + \epsilon_1)$ contains no other points of $A$.
    We know that must always exist a rational $q_1 \in (p_1, p_1 + \epsilon_1)$.
    If there exists an isolated point $p_2 > p_1$ such that its \textit{corresponding} $\epsilon_2$ is such that $q_1 \in (p_2 - \epsilon, p_2)$, we select a new rational $q_1' \in (p_1, q_1)$.
    We claim that there can now be no isolated point $p_3 > p_1$ such that $q_1' \in (p_3 - \epsilon_3, p_3)$ (again, $\epsilon_3$ is such that it satisfies the definition of isolated point).
    Indeed, if this was true, there would be two cases:
    \begin{itemize}
        \item $p_3 > p_2$: Observe that $p_2 > q_1' > p_3 - \epsilon_3$, which would mean $p_2 \in (p_3 - \epsilon_3, p_3)$, which contradicts the fact that $p_3$ is an isolated point with a corresponding $\epsilon_3$.
        \item $p_3 < p_2$: Then it must necessarily be that $p_3 > q_1$, otherwise $p_3$ would contradict the definitionf of isolated point for $p_1$.
        However, if this was the case we would have that $p_3 \in (p_2 - \epsilon_2, p_2)$, which contradicts the definition of isolated point for $p_2$.
    \end{itemize}
    Notice, also, that $q_1'$ cannot be in any $(p_3 - \epsilon_3, p_3 + \epsilon_3)$ for $p_3 < p_1$, because then $p_1$ would also be in this interval, a contradiction.
    Therefore, the procedure that we describe will always match an interval of the form $(p_i - \epsilon_i, p_i + \epsilon_i)$ to a rational number that lies \textit{in no other} interval of the form $(p_j - \epsilon_j, p_j + \epsilon_j)$, and thus the mapping of isolated points to rationals must necessarily be injective, which completes the proof.


\end{solution}

\begin{exercise}{41}
    Related to the notion of limit points and isolated points are boundary points.
    A point $x \in M$ is said to be a \textbf{boundary point} of $A$ if each neighborhood of $x$ hits both $A$ and $A^c$.
    In symbols, $x$ is a boundary point of $A$ if and only if $B_{\epsilon}(x) \cap A \neq \emptyset$ and $B_{\epsilon}(x) \cap A^c \neq \emptyset$ for every $\epsilon > 0$.
    Verify each of the following formulas, where $\partial A$ denotes the set of boundary points of $A$:

    (a) $\partial A = \partial A^c$

    (b) $\overline{{A}} = \partial A \cup A^{\circ}$

    (c) $M = A^\circ \cup \partial A \cup ({A^{c}})^{\circ}$

    Notice that the first and last equations tell us that each set $A$ partitions $M$ into three regions: the points ``well inside'' $A$, the points ``well outside'' $A$, and the points on the common boundary of $A, A^{c}$.

\end{exercise}

\begin{solution}
    
    (a) Suppose first that $x \in \partial A$.
    Then for every $\epsilon > 0$, it holds that $B_{\epsilon}(x) \cap A \neq \emptyset \implies B_{\epsilon}(x) \cap (A^c)^c \neq \empty set$ and also that $B_{\epsilon}(x) \cap A^c \neq \emptyset$.
    But this means of course that $x \in \partial A^c$, and thus that $\partial A \subset \partial A^c$.
    Exchanging the roles of $A, A^c$ yields the inclusion in the other direction as well.

    (b) Now suppose $x \in \overline{A}$.
    Then for every $\epsilon > 0$, the ball $B_{\epsilon}(x)$ has a non-empty intersection with $A$.
    In the case where, for some such $\epsilon, B_{\epsilon}(x) \subset A$, by definition of the interior it holds that $x \in A^\circ$.
    In the case where for \textit{every} $\epsilon, B_{\epsilon}(x) \cap A^c \neq \emptyset$, we conclude that $x \in \partial A$.
    Therefore $x \in \partial A \cup A^\circ$.
    Conversely, assume $x \in \partial A \cup A^\circ$.
    If $x \in \partial A$, then more specifically every ball $B_{\epsilon}(x)$ intersects $A$, and thus $x \in \overline{A}$ by definition.
    If $x \in A^\circ$, then it is trivially true that $x \in A \subset \overline{A}$, thus proving that $\partial A \cup A^\circ \subset \overline{A}$.

    (c) We begin by observing that $M = A^\circ \cup (A^\circ)^c = A^\circ \cup \overline{A^c}$, where we made use of exercise 24, observing that $A^\circ = (\overline{A^c})^c$ and taking the complement of both sides.
    Now by part (b), $\overline{A^c} = \partial A^c \cup (A^c)^\circ$, and by part (a), $\partial A = \partial A^c$, so $M = A^\circ \cup \partial A \cup (A^c)^\circ$.
\end{solution}

\begin{exercise}{42}
    If $E$ is a nonempty bounded subset of $\mathbb{R}$, show that both $\sup E, \inf $ are both boundary points of $E$.
    Hence, if $E$ is also closed, then $\sup E, \inf E$ are elements of $E$.
\end{exercise}

\begin{solution}
    
    By exercise 18, we already know that $\sup E, \inf E \in \overline{E}$.
    By exercise 40, we thus know that $\sup E, \inf E \in \partial E \cup E^\circ$.
    Suppose $\sup E \in E^\circ$.
    Then there exists $\epsilon > 0$ such that $B_{\epsilon}(\sup E) \subset E \implies \{x \in \mathbb{R}: \lvert x - \sup E \rvert < \epsilon\} \subset E$.
    But then it holds that $x = \sup E + \epsilon/2 \in B_{\epsilon}(\sup E) \subset E$, which contradicts the definition of the supremum, since $x > \sup E$.
    Then it must necessarily hold that $x \in \partial E$.
    The proof for the infimum is symmetrical.
    Notice that the second part of the exercise follows immediately from exercise 18.
    Suppose (d) holds.
    Recall from exercise 41 that $M = A^\circ \cup \partial A \cup (A^c)^\circ$, and so in this case it must hold that $M = A^\circ \cup \partial A$.
    But, also from exercise 41, $\overline{A} = A^\circ \cup \partial A$, which shows that $M = \overline{A}$, i.e. that $A$ is dense in $M$.
\end{solution}

\begin{exercise}{43}
    Show that $\partial A$ is always a closed set; in fact, $\partial A = \overline{A} \setminus A^\circ$.
\end{exercise}

\begin{solution}

    Pick any $x \in M$ and any $\epsilon > 0$.
    We will show that if it always holds that $B_{\epsilon}(x) \cap \partial A \neq \emptyset$ , then $x \in \partial $A, which is one of the definitions of $\partial A$ being a closed set.
    By using $\epsilon' = \epsilon/2$ in our hypothesis, there exists $y \in \partial A$ such that $d(x, y) < \epsilon/2$.
    It then holds that $B_{\epsilon/2}(y) \cap A \neq \emptyset, B_{\epsilon/2}(y) \cap A^c \neq \emptyset$, by definition of the boundary.
    Therefore there must exist $z_1 \in A$ with $d(z_1, y) < \epsilon/2$ and $z_2 \in A^c$ with $d(z_2, y) < \epsilon/2$.
    Then:

    $$d(x, z_1) \leq d(x, y) + d(y, z_2) < \epsilon, d(x, z_2) \leq d(x, y) + d(y, z_2) < \epsilon$$

    This means that $B_{\epsilon}(x) \cap A \neq \emptyset, B_{\epsilon}(x) \cap A^c \neq \emptyset$, since $z_1, z_2$ belong in these two intersections respectively.
    Because this holds for any $\epsilon > 0, x$ satisfies the defining property of $\partial A$, and as such $x \in \partial A$, which means that $\partial A$ is closed.
    Now recall from exercise 41 that $\overline{A} = \partial A \cup A^\circ$, and notice that the two sets on the RHS must always be disjoint: if $x \in \partial A$, then the intersection $B_{\epsilon}(x) \cap A^c$ is always non-empty, which means that there can be no $\epsilon > 0$ such that $B_{\epsilon}(c) \subset A$, and thus $x \notin A^\circ$.
    Therefore, we can safely conclude that $\partial A = \overline{A} \setminus A^\circ$.
\end{solution}

\begin{exercise}{46}
    A set $A$ is said to be \textbf{dense} in $M$ (or, as some authors say, \textit{everywhere dense}) if $\overline{A} = M$.
    For example, both $\mathbb{Q}, \mathbb{R} \setminus Q$ are dense in $\mathbb{R}$.
    Show that $A$ is dense in $M$ if and only if any of the following hold:

    (a) Every point in $M$ is the limit of a sequence from $A$.

    (b) $B_{\epsilon}(x) \cap A \neq \emptyset$ for every $x \in M$ and every $\epsilon > 0$.

    (c) $U \cap A \neq \emptyset$ for every nonempty open set $U$.

    (d) $A^c$ has empty interior.
\end{exercise}

\begin{solution}
    
    Suppose first that $(A^c)^\circ = \emptyset$.
    Then from exercise 41 we have that $M = A^\circ \cup \partial A \cup (A^c)^\circ, \overline{A} = A^\circ \cup \partial A$, and so we conclude that $M = \overline{A}$.
    Conversely, suppose $(A^c)^\circ = \emptyset$, in which case by the exact same properties as above, $M = \overline{A} \cup (A^c)^\circ \implies M = \overline{A}$, which means that $A$ is indeed dense, and that we are finished with condition (d).

    For (a) recall Corollary 4.11: $x \in \overline{A}$ iff $x_n \rightarrow x$ for some sequence $(x_n) \subset A$, i.e. $\overline{A}$ is precisely the set of limits of sequences in $A$, and so condition (a) immediately reduces to the definition of $A$ being dense.
    
    For (b), observe first that if $\overline{A} = M$, then by the definition of the closure, for every $x \in A$ and every $\epsilon > 0$ it must be the case that $B_{\epsilon}(x) \cap A \neq \emptyset$.
    Conversely, if (b) holds then every point $x \in M$ fulfills the defining property of $\overline{A}$, and so $M \subset \overline{A}$, which of course means $\overline{A} = M$.

    For (c) we'll make use of the equivalence of (d) to $A$ being dense.
    Namely, assume first that (d) does not hold, i.e. that there exists $x \in (A^c)^\circ$, which means that for some $\epsilon > 0, B_{\epsilon}(x) \subset A^c$, and so $B_{\epsilon}(x) \cap A = \emptyset$.
    But this ball is then an open set that renders (c) false, which means we've shown that $\neg (d) \implies \neg (c)$, or, equivalently, that $(c) \implies (d)$.
    Conversely, if (c) does not hold, then there exists a nonempty open set $U$ such that $U \cap A = \emptyset$, which means $U \subset A^c$.
    Then, by the definition of the interior, it must be the case that $U \subset (A^c)^\circ$, and therefore that $A^c$ does \textit{not} have an empty interior.
    This means that (d) does not hold, i.e. we've shown that $ \neg (c) \implies \neg (d)$, which is equivalent to $(d) \implies (c)$, which completes the proof that (c), (d) are equivalent, and therefore that (c) is also equivalent to $M$ being dense.
\end{solution}

\begin{exercise}{48}
    A metric space is called \textbf{separable} if it contains a countable dense subset.
    Find examples of countable dense sets in $\mathbb{R}, \mathbb{R}^2, \mathbb{R}^n$.
\end{exercise}

\begin{solution}
    
    For $\mathbb{R}$, we know that $\mathbb{Q}$ is countable and that $\overline{Q} = \mathbb{R}$, so it's a countable dense set of $\mathbb{R}$.
    For $\mathbb{R}^2$, consider the set $\mathbb{Q} \times \mathbb{Q}$: by exercise 3 of chapter 2, we have that this is a countable set.
    Also, any element $(x, y) \in \mathbb{R}^2$ can be approximated coordinate-wise by two sequences $q_n \rightarrow x, q'_n \rightarrow y$ each of which is in $\mathbb{Q}$.
    Then, exercise 46 of chapter 3 guarantees that $(q_n, q'_n) \rightarrow (x, y)$, and so we've shown condition (a) of exercise 46 above, which means that $\mathbb{Q} \times \mathbb{Q}$ is indeed dense and countable.
    For $\mathbb{R}^n$, by a similar reasoning as above (extending ex. 46 to $n > 2$) we can use the $n$-times Cartesian product of $\mathbb{Q}$ as an example of a dense countable set.
\end{solution}